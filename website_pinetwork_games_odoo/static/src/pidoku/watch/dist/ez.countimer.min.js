/*
* countimer - v1.1.0 - 2018-12-30 - https://github.com/envynoiz/countimer#readme
* Copyright (c) 2018 envynoiz 
*/
/**!
 * @preserve
 *
 * Simple jQuery plugin to start a basic count up timer on any HTML element.
 *
 * I wrote this plugin for using into a personal project but could be useful
 * for everyone who needs a simple counter.
 *
 * Licensed under the MIT license.
 */
!function(a,b,c,d){"use strict";var e="plugin_",f="countimer",g=function(b,c){var e=this;e.options={},e.duration={};const f={IN_SECONDS:0,IN_MINUTES:1,IN_HOURS:2,FULL:3,MAX_INDEX:3},g=["second","minute","hour"];var h,i,j,k,l,m,n,o={displayMode:f.FULL,enableEvents:!1,displayMillis:!1,destroyDOMElement:!1,autoStart:!0,useHours:!0,minuteIndicator:"",secondIndicator:"",separator:":",leadingZeros:2,initHours:0,initMinutes:0,initSeconds:0},p=function(a,b){var c="".concat(a);return c.length>=b?c:new Array(b-c.length+1).join("0")+c},q=function(a,b,c){var d=c||e.options.leadingZeros,f=p(a,d);return b?f.concat(e.options.separator):f},r=function(a,b){return""===a||a>b?b:a},s=function(){return moment.duration({seconds:e.options.initSeconds,minutes:e.options.initMinutes,hour:e.options.initHours})},t=function(){return{displayedMode:n[e.options.displayMode](),original:a.extend({},j)}},u=function(a){return Math.floor(Math.abs(a))},v=function(a){if(l)return void i.val(a);i.text(a)},w=function(b){e.options.enableEvents&&a.each(b,function(a){b[a]&&i.trigger(g[a],t())})},x=function(b){j={hours:u(e.duration.asHours()),minutes:e.duration.minutes(),seconds:e.duration.seconds()};var c=function(a,b){return{unformatted:a,formatted:b}},d={toSeconds:function(){var a=u(e.duration.asSeconds()),b=q(a).concat(e.options.secondIndicator);return c({seconds:a},b)},toMinutes:function(){var a=u(e.duration.asMinutes()),b=q(a).concat(e.options.minuteIndicator);return c({minutes:a},b)},toHours:function(){var a=u(e.duration.asHours());return c({hours:a},q(a))},full:function(){var b=a.extend({},j),f=q(j.hours,!0,2).concat(q(j.minutes,!0,2)).concat(q(j.seconds,!1,2));f=f.concat(e.options.secondIndicator);var g=d.toMinutes(),h={minutes:g.unformatted.minutes,seconds:j.seconds},i=q(h.minutes,!0).concat(q(h.seconds,!1,2));if(i=i.concat(e.options.secondIndicator),e.options.displayMillis){j.millis=e.duration.milliseconds();var k=q(j.millis,!1,3);f=f.concat(".").concat(k),i=i.concat(".").concat(k),b.millis=j.millis,h.millis=j.millis}return e.options.useHours?c(b,f):c(h,i)}},f=[!0,0===j.seconds,0===j.minutes&&0===j.seconds];if(n=[d.toSeconds,d.toMinutes,d.toHours,d.full],b||f[m]){var g=n[e.options.displayMode]();v(g.formatted)}w(f),e.duration=e.options.displayMillis?moment.duration(e.duration.asMilliseconds()+100,"milliseconds"):moment.duration(e.duration.asSeconds()+1,"seconds")},y=function(){if(k){x(!0);var a=e.options.displayMillis?100:1e3;e.intervalFunction=setInterval(x,a),k=!1}return e},z=function(c){return e.stop(),e.options=a.extend({},o,c),e.options.displayMode=r(e.options.displayMode,f.MAX_INDEX),e.duration=s(),h=b,i=a(h),k=!0,l=d!==i.attr("value"),m=e.options.displayMode<=f.IN_HOURS?e.options.displayMode:f.IN_SECONDS,e.options.autoStart?e.start():x(!0),e};e.start=function(){return e.stop(),e.duration=s(),y()},e.destroy=function(){e.stop(),e.options.destroyDOMElement?i.remove():(i.removeData(),v("")),i.off(),i.unbind()},e.resume=function(){return y()},e.stop=function(){return e.intervalFunction&&(clearInterval(e.intervalFunction),k=!0),e},e.stopped=function(){return k},e.current=function(){return t()},z(c)};a.fn[f]=function(b){var c="string"==typeof b?b:d;if(c){var h=[];this.each(function(){h.push(a(this).data(e.concat(f)))});var i=arguments.length>1?Array.prototype.slice.call(arguments,1):d,j=[],k=function(a){var b=h[a];if(!b)throw new Error(f.concat(" is not instantiated yet"));if("function"!=typeof b[c])throw new Error("Method ".concat(c).concat(" is not defined on ").concat(f));j.push(b[c].apply(b,i))};return this.each(k),j.length>1?j:j[0]}var l="object"==typeof b?b:d;return this.each(function(){a(this).data(e.concat(f))||a(this).data(e.concat(f),new g(this,l))})}}(jQuery,window,document);